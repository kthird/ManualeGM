<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
<title>Illuminazione</title>
<link href="style.css" rel="stylesheet" type="text/css">
</head>
<body background="images/back.gif">

<!--START-->

<h3>Illuminazione</h3>

Le scene raffigurate con le funzioni citate sopra sono piuttosto piatte dato che non c’è luce.
Anche il colore se le facciate sono uguali, indipendentemente dal loro orientamento.
Per creare delle scene più realistiche da guardare dovete abilitare l’illuminazione e
sistemare le luci nei posti esatti. La creazione di scene correttamente illuminate non
è semplice, ma l’effetto è davvero soddisfacente.  

<p>
Per abilitare l’illuminazione potete usare la seguente funzione:

<blockquote>
  <tt><b>d3d_set_lighting(enable)</b></tt>
	  Abilita o disabilita l’uso dell’illuminazione.<br>
</blockquote>

<p>
Quando usate l’illuminazione, viene determinato il colore per ogni vertice di un poligono.
Poi, il colore dei pixels interni è basato sul colore di questi vertici. Ci sono due modi
per realizzare ciò: Sia l’intero poligono prende lo stesso colore, o il colore è
leggermente interpolato sopra il poligono. Viene usata predefinitivamente una
sfumatura liscia. Ciò può essere modificato usando la seguente funzione:

<blockquote>
  <tt><b>d3d_set_shading(smooth)</b></tt>
	  Imposta se usare o no la sfumatura liscia.<br>
</blockquote>

<p>
Per usare l’illuminazione ovviamente avete necessità di definire le luci.
Esistono luci diverse: luci direzionali (come il sole), e luci posizionabili.
La luce ha un colore. (Supportiamo solo luci diffuse, nessun riflesso speculare)
    Di solito sono disponibili solo <b>8</b> luci tramite hardware, quindi dovrete usare
	le funzioni qui sotto per modificare le luci "attive", non solo tutte le luci della scena.
	Esistono le seguenti funzioni per definire ed usare le luci:<blockquote>
  <tt><b>d3d_light_define_direction(ind,dx,dy,dz,col)</b></tt>
	  Definisce una luce direzionale. <tt>ind</tt> è l'indice della luce (usa un puccolo
	  numero positivo). (dx,dy,dz) è la direzione della luce. <tt>col</tt> è il
	  colore della luce (spesso si usa <tt>c_white</tt>. 
	  Questa funzione non attiva la luce.<br>
  <tt><b>d3d_light_define_point(ind,x,y,z,range,col)</b></tt>
	  Definisce un punto luce. <tt>ind</tt> è l'indice della luce (usa un puccolo
	  numero positivo). (x,y,z) è la posizione della luce. <tt>range</tt>
	  indica quanto lontano brilla la luce. L’intensità della luce
	  decrescerà lungo questo range. <tt>col</tt> è il colore
	  della luce. Questa funzione non attiva la luce.<br>
  <tt><b>d3d_light_enable(ind,enable)</b></tt>
	  Attiva (true) o disattiva (false) la luce <tt>ind</tt>.<br>
</blockquote>

<p>
    <br />
La prossima funzione serve per controllare una particolare luce chiamata luce <i>ambientale</i>.
La luce ambientale è una particolare luce che illumina dove non è presente della luce.
E' effettivamente il colore della luminosità della scena.
Per controllare questa luce usate questa funzione:

<blockquote>
  <tt>d3d_light_define_ambient( colour )</tt> Il colore di default è $000000&nbsp; 
    (black)</blockquote>
</p>

<p>
Il modo con il quale un oggetto riflette la luce dipende dall’angolo tra la
direzione della luce e dalla perpendicolarità della superficie, cioè, la
rotta di puntamento lontana dalla facciata, questa rotta è chiamata "normale" (normal)
di una superficie. Quindi, per creare oggetti illuminati
avete bisogno non solo di fornire la posizione dei vertici ma anche le loro
perpendicolarità. Sono disponibili per questa necessità quattro funzioni per
definire i vertici delle primitive:

<p>
<blockquote>
  <tt><b>d3d_vertex_normal(x,y,z,nx,ny,nz)</b></tt>
	  Aggiunge un vertice (x,y,z) alla primitiva, con un vettore perpendicolare (nx,ny,nz).<br>
  <tt><b>d3d_vertex_normal_color(x,y,z,nx,ny,nz,col,alpha)</b></tt>
	  Aggiunge un vertice (x,y,z) alla primitiva, con un vettore perpendicolare (nx,ny,nz),
	  e con il proprio colore e canale alpha.<br>
  <tt><b>d3d_vertex_normal_texture(x,y,z,nx,ny,nz,xtex,ytex)</b></tt>
	  Aggiunge un vertice (x,y,z) alla primitiva, con il vettore perpendicolare (nx,ny,nz), e
	  con la posizione (xtex,ytex) nella texture, mischiandolo prima con il colore e il canale alpha.<br>
  <tt><b>d3d_vertex_normal_texture_color(x,y,z,nx,ny,nz,xtex,ytex,col,alpha)</b></tt>
	  Aggiunge un vertice (x,y,z) alla primitiva, con il vettore perpendicolare (nx,ny,nz), e con la posizione
	  (xtex,ytex) nella texture, miscelandolo con il proprio colore e il canale alpha.<br>
</blockquote>

<p>
Si noti che per le forme base che potrete raffigurare il vettore di perpendicolarità è
impostato correttamente in automatico.

<!--END-->

</body>
</html>

<!-- KEYWORDS
luce
materiale

d3d_set_lighting()
d3d_set_shading()
d3d_light_define_direction()
d3d_light_define_point()
d3d_light_enable()
d3d_light_define_ambient()
d3d_vertex_normal()
d3d_vertex_normal_color()
d3d_vertex_normal_texture()
d3d_vertex_normal_texture_color()
--> 