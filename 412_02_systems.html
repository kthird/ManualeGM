<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
<title>Particle systems</title>
<link href="style.css" rel="stylesheet" type="text/css">
</head>
<body background="images/back.gif">
<!--START-->


<h3>Sistemi di particelle</h3>

Le particelle vivono in sistemi di particelle. Quindi, per poter avere delle particelle 
nel vostro gioco è necessario creare uno o più sistemi di particelle. Ci possono essere 
diversi sistemi di particelle (è consigliato mantenere piccolo il loro numero). Ad esempio, 
se il gioco ha un certo numero di sfere e ciascuna sfera dovrebbe avere una coda di particelle,
molto probabilmente ciascuna sfera avrà un proprio sistema particellare. Il modo più semplice 
per gestire sistemi di particelle è quello di crearne uno e successivamente creare delle 
particelle in esso, utilizzando i tipi di particelle descritti precedentemente. Ma, come 
vedremo in seguito, i sistemi di particelle possono contenere emettitori che automaticamente 
producono particelle, attrattori che le attraggono, e distruttori che le distruggono.

<p>
Una volta che le particelle vengono aggiunte ad un sistema particellare ad ogni passo vengono 
aggiornate e disegnate automaticamente. Non sono necessarie altre operazioni. Per rendere possibile 
il disegno su schermo delle particelle (dietro, avanti, o tra istanze di oggetti), ciascun sistema 
di particelle ha una profondità, simile a  quella di istanze e tiles.

<p>
I sistemi particellari vivranno per sempre dopo la loro creazione. Quindi, anche se si cambia 
stanza o ricominciare il gioco, i sistemi e le particelle rimangono. È meglio, quindi, assicurarsi 
di distruggerli una volta che non sono più necessari.

<p>
Le seguenti funzioni di base permettono la gestione di sistemi particellari:

<p>
<blockquote>
  <tt><b>part_system_create()</b></tt> 
    Crea un nuovo sistema di particelle. Restituisce l'indice del sistema. 
    Questo indice deve essere usato in tutte le funzioni sottostanti per impostare 
    le proprietà del sistema di particelle.<br>
  <tt><b>part_system_destroy(ind)</b></tt> 
    Distrugge il sistema particellare dato il suo indice. Chiamare questa 
    funzione se non serve più, per risparmiare spazio.<br>
  <tt><b>part_system_exists(ind)</b></tt> 
    Restituisce un valore se il sistema di particelle indicato esiste.<br>
  <tt><b>part_system_clear(ind)</b></tt> 
    Pulisce il sistema particellare dato il suo indice e lo riporta alle sue impostazioni predefinite, 
    cancellando tutte le particelle, gli emettitore e gli attrattori in esso.<br>
  <tt><b>part_system_draw_order(ind,oldtonew)</b></tt>
    Imposta l'ordine con cui il sistema di particelle disegna le particelle. Quando il parametro oldtonew 
    è vero le particelle più vecchie vengono disegnate per prime e quello nuove, invece, giacciono su 
    di esse (default). In caso contrario, le particelle nuove saranno disegnate per prime. Questo può 
    dare effetti piuttosto differenti.<br>
  <tt><b>part_system_depth(ind,depth)</b></tt>
    Imposta la profondità del sistema di particelle. Questo può essere utilizzato per permettere alle 
    particelle di apparire dietro, avanti, o tra le istanze.<br>
  <tt><b>part_system_position(ind,x,y)</b></tt>
   Imposta la posizione in cui verrà disegnato il sistema particellare. Questo non è necessario, ma 
   se si vogliono avere delle particelle ad una posizione relativa ad un oggetto in movimento, è 
   possibile impostare la posizione a tale oggetto.<br>
</blockquote>

<p>
Come indicato sopra, il sistema di particelle viene automaticamente aggiornato e disegnato. Ma a 
volte questo non è ciò che si vuole. Per facilitare questa operazione, è possibile disattivare l'aggiornamento 
automatico, o il disegno, e poi decidere da soli quando aggiornare o disegnare il sistema di particelle. Per 
questo è possibile utilizzare le seguenti funzioni:
	
<p>
<blockquote>
  <tt><b>part_system_automatic_update(ind,automatic)</b></tt> 
    Indica se il sistema di particelle deve essere aggiornato automaticamente (1) o no (0). 
    Il valore predefinito è 1.<br>
  <tt><b>part_system_automatic_draw(ind,automatic)</b></tt> 
    Indica se il sistema di particelle deve essere disegnato automaticamente (1) o no (0).
    Il valore predefinito è 1.<br>
  <tt><b>part_system_update(ind)</b></tt> 
    Questa funzione aggiorna la posizione di tutte le particelle nel sistema e permette agli 
    emettitori di creare particelle. Bisogna chiamare questa funzione solo quando l'aggiornamento 
    non è automatico. (Anche se a volte è utile chiamare questa funzione per ottenere il sistema in corso).<br>
  <tt><b>part_system_drawit(ind)</b></tt> 
    Questa funzione disegna le particelle nel sistema. Bisogna chiamare questa funzione solo quando 
    il disegno non è automatico. Deve essere chiamata nell’evento draw degli oggetti.<br>
</blockquote>

<p>
Le seguenti funzioni manipolano le particelle di un sistema di particelle:

<p>
<blockquote>
  <tt><b>part_particles_create(ind,x,y,parttype,number)</b></tt> 
    Questa funzione crea un numero (number) di particelle del tipo indicato alla posizione (x,y) nel sistema.<br>
  <tt><b>part_particles_create_color(ind,x,y,parttype,color,number)</b></tt> 
    Questa funzione crea un numero di particelle del tipo indicato alla posizione (x,y) nel sistema, con 
    il colore indicato. Questa funzione è utile solo quando il tipo di particella definisce un singolo 
    colore (o non definisce un colore a tutti).<br>
  <tt><b>part_particles_clear(ind)</b></tt>
   Questa funzione rimuove tutte le particelle nel sistema.<br>
  <tt><b>part_particles_count(ind)</b></tt> 
    Questa funzione restituisce il numero di particelle nel sistema.<br>
</blockquote>


<!--END-->
</body>
</html>

<!-- KEYWORDS
part_system_create()
part_system_destroy()
part_system_exists()
part_system_clear()
part_system_draw_order()
part_system_depth()
part_system_position()
part_system_automatic_update()
part_system_automatic_draw()
part_system_update()
part_system_drawit()
part_particles_create()
part_particles_create_color()
part_particles_clear()
part_particles_count()

--> 
