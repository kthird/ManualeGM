<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
<title>Creare Modelli</title>
<link href="style.css" rel="stylesheet" type="text/css">
</head>
<body background="images/back.gif">

<!--START-->


<h3>Creare Modelli</h3>

Quando hai bisogno di disegnare dei modelli grandi è abbastanza costoso chiamare tutte le differenti
funzioni di disegno ad ogni step. Per evitare questo puoi creare dei modelli.
Un modello consiste in un numero di disegni di primitive e di forme. Una volta creato il modello
puoi disegnarlo in posizioni differenti con una sola funzione. I modelli possono anche essere
caricati o salvati in un file.

<p>
Prima di descrivere le differenti funzioni disponibili c'è un importante punto: la manipolazione
delle textures. Come descritto prima, le texture vengono prese da sprites e brackgrounds.
Gli indici delle texture possono essere differenti in differenti momenti. Quindi i modelli
non contengono nessuna informazione sulle texture. Solo quando disegni un modello fornisci
la texture. Quindi puoi usare solo una texture in un modello. Se hai bisogno di più textures
devi unirle in una sola (trattando attentamente con le coordinate della texture) o usare
più modelli. Il vantaggio è che puoi disegnare lo stesso modello con textures differenti.

<p>
Per creare, caricare, salvare, e disegnare modelli, esistono le seguenti funzioni:

<p>
<blockquote>
  <tt><b>d3d_model_create()</b></tt>
	  Crea un nuovo modello e restituisce il suo indice. L'indice verrà usato in tutte
	  le altre funzioni che trattano coi modelli.<br>
  <tt><b>d3d_model_destroy(ind)</b></tt>
	  Distrugge il modello con l'indice indicato, liberando la sua memoria.<br>
  <tt><b>d3d_model_clear(ind)</b></tt>
	  Ripulisce il modello con l'indice indicato, rimuovendo tutte le sue primitive.<br>
  <tt><b>d3d_model_save(ind,fname)</b></tt>
          Salva il modello nel file indicato.<br>
  <tt><b>d3d_model_load(ind,fname)</b></tt>
	  Carica il modello dal file indicato.<br>
  <tt><b>d3d_model_draw(ind,x,y,z,texid)</b></tt>
	  Disegna il modello alla posizione (x,y,z). <tt>texid</tt> è la texture che dev'essere
          usata. Usa -1 se non vuoi usare una texture. Se vuoi ruotare o ridimensionare il
          modello puoi usare le routines di trasformazione descritte prima.<br>
</blockquote>

<p>
Per ogni funzione che tratta le primitive ce n'è una equivalente per aggiungerle al modello.
Le funzioni hanno gli stessi argomenti, ma hanno come primo argomento l'indice del modello,
e non sono necessarie le informazioni sulla texture.

<p>
<blockquote>
  <tt><b>d3d_model_primitive_begin(ind,kind)</b></tt>
	  Aggiunge una primitiva 3D del tipo indicato: <tt>pr_pointlist, pr_linelist,
	  pr_linestrip,pr_trianglelist,pr_trianglestrip</tt> o <tt>pr_trianglefan</tt>.<br>
  <tt><b>d3d_model_vertex(ind,x,y,z)</b></tt>
	  Aggiunge il vertice (x,y,z) al modello.<br>
  <tt><b>d3d_model_vertex_color(ind,x,y,z,col,alpha)</b></tt>
	  Aggiunge il vertice (x,y,z) al modello, specificando il colore e la trasparenza.<br>
  <tt><b>d3d_model_vertex_texture(ind,x,y,z,xtex,ytex)</b></tt>
	  Aggiunge il vertice (x,y,z) al modello, specificando le coordinate della texture.<br>
  <tt><b>d3d_model_vertex_texture_color(ind,x,y,z,xtex,ytex,col,alpha)</b></tt>
	  Aggiunge il vertice (x,y,z) al modello, specificando texture e colore.<br>
  <tt><b>d3d_model_vertex_normal(ind,x,y,z,nx,ny,nz)</b></tt>
	  Aggiunge il vertice (x,y,z) al modello, con un vettore normale (nx,ny,nz).<br>
  <tt><b>d3d_model_vertex_normal_color(ind,x,y,z,nx,ny,nz,col,alpha)</b></tt>
	  Aggiunge il vertice (x,y,z) al modello, con un vettore normale (nx,ny,nz), 
	  and with its own color and alpha value.<br>
  <tt><b>d3d_model_vertex_normal_texture(ind,x,y,z,nx,ny,nz,xtex,ytex)</b></tt>
	  Aggiunge il vertice (x,y,z) al modello, con un vettore normale (nx,ny,nz),
	  e con la posizione della texture.<br>
  <tt><b>d3d_model_vertex_normal_texture_color(ind,x,y,z,nx,ny,nz,xtex,ytex,col,alpha)</b></tt>
	  Aggiunge il vertice (x,y,z) al modello, con un vettore normale (nx,ny,nz), con la texture
	  e con i colori.<br>
  <tt><b>d3d_model_primitive_end(ind)</b></tt>
	  Termina la descrizione della primitiva nel modello.<br>
</blockquote>

<p>
Oltre alle primitive, puoi anche aggiungere delle forme di base al modello. Le funzioni sono
quasi uguali ma con un indice del modello e senza le informazioni della texture:

<p>
<blockquote>
  <tt><b>d3d_model_block(ind,x1,y1,z1,x2,y2,z2,hrepeat,vrepeat)</b></tt>
	  Aggiunge un blocco al modello. <br>
  <tt><b>d3d_model_cylinder(ind,x1,y1,z1,x2,y2,z2,hrepeat,vrepeat,closed,steps)</b></tt>
	  Aggiunge un cilindro al modello. <br>
  <tt><b>d3d_model_cone(ind,x1,y1,z1,x2,y2,z2,hrepeat,vrepeat,closed,steps)</b></tt>
	  Aggiunge un cono al modello. <br>
  <tt><b>d3d_model_ellipsoid(ind,x1,y1,z1,x2,y2,z2,hrepeat,vrepeat,steps)</b></tt>
	  Aggiunge un ellissoide al modello. <br>
  <tt><b>d3d_model_wall(ind,x1,y1,z1,x2,y2,z2,hrepeat,vrepeat)</b></tt>
	  Aggiunge un muro al modello. <br>
  <tt><b>d3d_model_floor(ind,x1,y1,z1,x2,y2,z2,hrepeat,vrepeat)</b></tt>
	  Aggiunge un pavimento al modello. <br>
</blockquote>

<p>
Usare i modelli può velocizzare significativamente la grafica nel vostro gioco 3D e tu
dovresti usarle ogni volta che puoi.

<!--END-->

</body>
</html>

<!-- KEYWORDS
3d models
models
modelli 3d
modelli

d3d_model_create()
d3d_model_destroy()
d3d_model_clear()
d3d_model_save()
d3d_model_load()
d3d_model_draw()
d3d_model_primitive_begin()
d3d_model_vertex()
d3d_model_vertex_color()
d3d_model_vertex_texture()
d3d_model_vertex_texture_color()
d3d_model_vertex_normal()
d3d_model_vertex_normal_color()
d3d_model_vertex_normal_texture()
d3d_model_vertex_normal_texture_color()
d3d_model_primitive_end()
d3d_model_block()
d3d_model_cylinder()
d3d_model_cone()
d3d_model_ellipsoid()
d3d_model_wall()
d3d_model_floor()
-->
