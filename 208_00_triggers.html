<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html><head>
<title>Eventi Trigger</title>
<link href="style.css" rel="stylesheet" type="text/css">
</head>
<body background="images/back.gif">
<!--START-->


<h1>Eventi Trigger</h1>

<b><i>Questa funzionalita è presente solo con la versione standard di Game Maker</i></b>

<p>
Nella nodalità avanzata è presente un nuovo tipo di eventi: gli eventi trigger. gli eventi trigger
vengono definiti dall'utente. Si specifica la condizione che deve essere eseguita.
Per definire eventi trigger vai su <b>Define Triggers</b> dal menù <b>Resources</b>. 
La seguente finestra verrà mostrata (dove sono stati già definiti alcuni trigger):


<p>
<img src="images/form_trigger.jpg">

<p>
A sinistra puoi vedere una lista di tutti i trigger che sono stati definiti. Inizialmente la lista è vuota.
Sotto ci sono dei bottoni con le seguenti funzioni:

<p>
<ul>
  <li><b>Add.</b> 
    Usa questo bottone per aggiungere un nuovo evento trigger alla lista.</li>
  <li><b>Delete.</b> 
    Elimina l'evento trigger attualmente selezionato dalla lista. Fai attenzione a non 
    cancellare mai un evento trigger che è usato in un oggetto. Potrebbe portare a inaspettati
    risultati.</li>
  <li><b>Load.</b> 
    Carica una collezioni di trigger da un file. Questo file deve avere estenzione
    .gmtrg. I trigger del file sono aggiunti alla lista dei trigger.</li>
  <li><b>Save.</b> 
    Salva la collezione di trigger su un file. Questo file deve avere estenzione
    .gmtrg. In questo modo puoi creare la tua collezione di trigger
    che puoi usare in diversi giochi. </li>
  <li><b>Clear.</b>
    Pulisce la lista dei trigger. Fai attenzione ad usare questo quando nessun oggetto
    usa un evento trigger. </li>
</ul>

<p>
Quando hai finito puoi premere il pulsante <b>OK</b> per salvare i cambiamenti. Se non vuoi
salvare i cambiamenti, chiudi la finestra con la croce in alto a destra e indica
che non vuoi salvare i cambiamenti.

<h3>Definire un Trigger</h3>

<p>
Quando hai aggiunto un trigger dovresti riempirlo di prorpietà. Prima di tutto devi dargli un nome.
Questo nome apparira nel menu insieme ai trigger disponibili e nella lista degli eventi per gli oggetti. Successivamente
Dovrai specificare la contizione che farà azionare l'evento. Questo è un pezzo di codice-GML. deve contenere
un istruzione return che ritorna un valore falso (false) o vero (true). L'evento si azionera quando l'istruzione return
restituirà vero.
Qua ci sono degli esempi. 

<p>
Supponiamo che tu vuoi creare un evento che verrà eseguito quando il giocatore premerà i pulsanti CTRL e 'A' insieme.
Per questo puoi usare la seguente condizione:

<p>
<blockquote>
<pre>
{
  <b>return</b> keyboard_check(ord('A')) &&
         keyboard_check(vk_control);
}
</pre>
</blockquote>

<p>
Puoi mettere uno script completo nella condizione dove c'è un istruzione return, Per esempio,
per avere un evento che avviene quando il numero di palle è tra 3 e 5, puoi usare la seguente condizione:

<p>
<blockquote>
<pre>
{
  <b>var</b> n;
  n = instance_number(obj_ball);
  <b>return</b> (n &gt;= 3) && (n &lt;= 5);
}
</pre>
</blockquote>

<p>
Puoi creare molti tipi di eventi trigger. Per esempio eventi che controllano una combinazione di pulsanti
di mouse e tastiera, eventi che controllano se sei vicino ad un nemico, eventi che controllano
se hai collezionato abbastanza soldi o punteggio, ecc.

<p>
Se la condizione diventa un po' lunga si potrebbe desiderare di modificarla nell'editor del codice. 
A tal fine premere il pulsante <b>Use code editor</b>.
</p>

<p>
Dopo che hai specificato la condizione dovrai specificare quando la condizione è testata. Ci sono tre opzioni.
Puoi testare la conzione all'inizio di uno step (Proprio prima di iniziare il Begin Step Event), In mezzo
(proprio prima di iniziare lo Step Event normale) o alla fine (Proprio prima di iniziare l'End Step Event).
La maggior parte delle volte si usa l'opzione in mezzo ma in alcuni casi ne hai bisogno in diversi momenti.
</p>

<p>
Infine, quando vuoi chiamare l'evento attraverso codice puoi usare una costante specifica a cui puoi riferirti
nel codice per richiamarlo. Vedi il capitolo 4 per maggiori dettagli su come chiamare eventi tramite codice.
</p>

<h3>Using a trigger</h3>

<p>
Quando hai definito i tuoi script li puoi usare per definire oggetti, Al settaggio delle proprietà dell'oggetto
clicca su <b>Add Event</b>, ora puoi selezionere eventi <b>Trigger</b>.

<p>
<img src="images/form_event_selector2.jpg">

<p>
Nel menù che appare puoi selezionare il tipo di evento trigger che vuoi usare.
Ora puoi aggiungere azioni a quest'evento nello stesso modo con cui aggiungi azioni negli altri eventi.
</p>


<!--END-->
</body>
</html>

<!-- KEYWORDS
trigger
trigger events
defining triggers
--> 
